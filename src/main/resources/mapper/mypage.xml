<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="mypage">

    <select id="reserveinfo" parameterType="String" resultType="com.test.gongbang.member.service.MemberDTO">
        select mc.rdate, mc.rmembercnt
        from tblMemberClass mc
                 inner join tblClass c
                            on mc.cseq = c.seq
                 inner join tblShop s
                            on c.sseq = s.seq
        where mc.mseq = (select seq from tblMember where aseq = #{aseq})
    </select>

    <select id="reserveshopinfo" parameterType="String" resultType="com.test.gongbang.shop.service.ShopDTO">
        select c.name, c.intro, c.course, c.time, c.duedate, c.duetime, c.price, c.image, s.name, s.tel, s.location
        from tblMemberClass mc
                 inner join tblClass c
                            on mc.cseq = c.seq
                 inner join tblShop s
                            on c.sseq = s.seq
        where mc.mseq = (select seq from tblMember where aseq = #{aseq})
    </select>

</mapper>